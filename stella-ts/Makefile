## File generated by the BNF Converter (bnfc 2.9.6).

LANG=Stella
LEXER_NAME=StellaLexer
PARSER_NAME=StellaParser
ANTLR4=java org.antlr.v4.Tool

.PHONY : all clean remove

all : ${LANG}

lexer : ${LANG}/${LEXER_NAME}.g4
	${ANTLR4} -Dlanguage=TypeScript ${LANG}/${LEXER_NAME}.g4

parser : ${LANG}/${PARSER_NAME}.g4
	${ANTLR4} -Dlanguage=TypeScript ${LANG}/${PARSER_NAME}.g4

install-deps : ${LANG}/package.json
	npm --prefix ./${LANG} install ${LANG}

init-ts-project : ${LANG}/package.json
	cd ${LANG} && npm run init

${LANG} : lexer parser install-deps init-ts-project

clean :
	rm -rf ${LANG}/node_modules
	rm -f ${LANG}/${LEXER_NAME}.interp
	rm -f ${LANG}/${LEXER_NAME}.tokens
	rm -f ${LANG}/${PARSER_NAME}.interp
	rm -f ${LANG}/${PARSER_NAME}.tokens
	rm -f ${LANG}/${LEXER_NAME}.ts
	rm -f ${LANG}/${PARSER_NAME}.ts
	rm -f ${LANG}/${PARSER_NAME}Listener.ts

remove :
	rm -rf ${LANG}

